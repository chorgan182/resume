---
format:
  html:
    theme: none
    minimal: true
    css: "_styles.css"
    page-layout: article
    link-external-icon: true
    link-external-newwindow: true
    from: markdown+emoji
    self-contained: true
---

```{r}
#| echo: false
#| message: false
#| warning: false
#| eval: false

# For Development
library(magrittr)
functions_to_source <- list.files("R", full.names = TRUE)
for (f in functions_to_source) source(f)

DATA <- qs::qread("cached_data.qs")
skills_data <- clean_skills(DATA$skills)
```


```{r}
#| echo: false
#| message: false
#| warning: false

library(magrittr)
functions_to_source <- list.files("R", full.names = TRUE)
for (f in functions_to_source) source(f)

# refresh data if desired, or files don't exist
refresh <- FALSE
cache_exists <- file.exists("cached_data.qs")
vars_exists <- file.exists("_variables.yml")
heatmap_exists <- file.exists("images/heatmap.svg")
necessary_files_exist <- all(cache_exists,
                             vars_exists,
                             heatmap_exists)

if (refresh | !necessary_files_exist) {
  # get data from google workbook
  wb_id <- "1DrQduf2C0muSsZFNJI5y9Ljtr3qKYNacC9YRkI8NiQs"
  DATA <- get_data(wb_id)
  cache_data(DATA)
  
  # save data as variables in yaml file
  write_to_vars(DATA)
  
  # save heatmap as png
  heatmap_data <- clean_skills(DATA$skills)
  heatmap <- create_skills_heatmap(heatmap_data)
  # first layer is geom_tile for heatmap
  plot_data <- ggplot2::ggplot_build(heatmap)$data[[1]]
  save_skills_heatmap(heatmap, "images/heatmap.svg")
}
```

::: {#header .columns}

::: {.column width="85%"}

::: {#name}

**{{< var contact.name >}}**

<!-- end name div -->
:::

::: {#contact}

{{< fa envelope >}} [{{< var contact.email >}}](mailto: {{< var contact.email >}}) &ensp;**|**&ensp; {{< fa brands linkedin >}} [linkedin.com/in/chuck-horgan]({{< var contact.linkedin >}}) &ensp;**|**&ensp; {{< fa brands github >}} [chorgan182]({{< var contact.github >}}){target=_blank"} &ensp;**|**&ensp; {{< fa globe >}} [chuckhorgan.com]({{< var contact.website >}}){target=_blank"} &ensp;**|**&ensp; {{< fa phone >}} {{< var contact.phone >}}

<!-- end contact div -->
:::

<!-- end name/contact column div -->
:::

::: {#headshot .column width="15%"}

```{=html}
<div class="image-cropper">
  <img
   src="images/headshot.jpg"
   alt="A photo of the author"
   class="headshot-pic" />
</div>
```
<!-- end pic column div -->
:::

<!-- end header columns div -->
:::

------------------------------------------------------------------------

::: columns

::: {.column width="50%"}

## Selected Experience

**{{< var work.work1.title >}}**, {{< var work.work1.company >}}

{{< var work.work1.start >}} — {{< var work.work1.end >}}

- {{< var work.work1.bullet1 >}}
  - {{< var work.work1.b1sub1 >}}
  - {{< var work.work1.b1sub2 >}}
  - {{< var work.work1.b1sub3 >}}

- {{< var work.work1.bullet2 >}}
  - {{< var work.work1.b2sub1 >}}
  - {{< var work.work1.b2sub2 >}}
  - {{< var work.work1.b2sub3 >}}

- {{< var work.work1.bullet3 >}}
  - {{< var work.work1.b3sub1 >}}
  - {{< var work.work1.b3sub2 >}}
  - {{< var work.work1.b3sub3 >}}

------------------------------------------------------------------------

**{{< var work.work2.title >}}**, {{< var work.work2.company >}}

{{< var work.work2.start >}} — {{< var work.work2.end >}}

- {{< var work.work2.bullet1 >}}

- {{< var work.work2.bullet2 >}}

- {{< var work.work2.bullet3 >}}

------------------------------------------------------------------------

**{{< var work.work3.title >}}**, {{< var work.work3.company >}}

{{< var work.work3.start >}} — {{< var work.work3.end >}}

- {{< var work.work3.bullet1 >}}

- {{< var work.work3.bullet2 >}}

- {{< var work.work3.bullet3 >}}

## Additional Experience

- _{{< var work_other.title1 >}}_, {{< var work_other.company1 >}}

- _{{< var work_other.title2 >}}_, {{< var work_other.company2 >}}

- _{{< var work_other.title3 >}}_, {{< var work_other.company3 >}}

- _{{< var work_other.title4 >}}_, {{< var work_other.company4 >}}

- _{{< var work_other.title5 >}}_, {{< var work_other.company5 >}}

- _{{< var work_other.title6 >}}_, {{< var work_other.company6 >}}
:::

::: {.column width="5%"}

:::

::: {#col-skills .column width="45%"}

## Skills

```{=html}
<img
 id="image-heatmap"
 src="images/heatmap.svg"
 alt="A heatmap with skills on the x-axis and software or tool on the y-axis"
/>
```

::: {#education-block}

## Education

**{{< var education.institution >}}** ({{< var education.end >}})

{{< var education.degree >}} | {{< var education.major >}}

Minor | {{< var education.minor >}}

:::

## Interests

:motorcycle: {{< var interests.int1 >}}

:desktop_computer: {{< var interests.int2 >}}

:climbing_man: {{< var interests.int3 >}}

:mountain_snow: {{< var interests.int4 >}}

:bike: {{< var interests.int5 >}}

<!-- end body left column div -->
:::

:::

{{< pagebreak >}}
